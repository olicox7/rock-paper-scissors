<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rock, Paper, Scissors</title>
</head>

<body>
<script>

function computerPlay(){
  let randomNum = Math.random() * 3;
  if (randomNum < 1 ){
    return "rock";
  } else {
    return (randomNum < 2) ? "paper" : "scissors";
  }
}
function playRound(playerSelection,computerSelection){
    playerSelection = playerSelection.toLowerCase();
    computerSelection = computerSelection.toLowerCase();
    if ((playerSelection === "rock" && computerSelection === "paper")
    || (playerSelection === "paper" && computerSelection === "scissors")
    || (playerSelection === "scissors" && computerSelection === "rock")){
      if (typeof computerScore != "undefined"){
        computerScore++;
        return `You lose, ${computerSelection} beats ${playerSelection}!
        Current score: You ${playerScore} - ${computerScore} Computer`;
      }
      return `You lose, ${computerSelection} beats ${playerSelection}!`;
    } else if ((playerSelection === "rock" && computerSelection === "scissors")
    || (playerSelection === "paper" && computerSelection === "rock")
    || (playerSelection === "scissors" && computerSelection === "paper")){
      if (typeof playerScore != "undefined"){
        playerScore++;
        return `You win, ${playerSelection} beats ${computerSelection}!
        Current score: You ${playerScore} - ${computerScore} Computer`;
      }
      return `You win, ${playerSelection} beats ${computerSelection}!`;
    } return playerSelection === computerSelection ? `It's a draw, you both chose ${playerSelection}.` : "You can't play rock, paper, scissors with those values!"
  }
  function game(){
    playerScore = 0;
    computerScore = 0;
    for (i=0;i<5;i++){
      let playerSelection = prompt("Rock, paper or scissors?")
      let result = (playRound(playerSelection,computerPlay()))
      console.log(result)
    }
    let outcome
    if (playerScore>computerScore){
      outcome = `You won!
      The final score was: You ${playerScore} - ${computerScore} Computer`;
    } else {
      outcome = playerScore<computerScore ? `You lost!
      The final score was: You ${playerScore} - ${computerScore} Computer` : `It's a draw!
      The final score was: You ${playerScore} - ${computerScore} Computer`;
    }console.log(outcome)
  }
</script>
</body>

</html>